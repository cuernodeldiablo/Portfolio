<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home - DAVE EVANZ</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .container {
      padding: 0 20px;
    }

    .form-box {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .category {
      background-color: #3a3a4f;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s ease;
      font-weight: bold;
    }

    .category:hover {
      transform: scale(1.05);
      background-color: #4b4b60;
    }

    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #2c2c3e;
      color: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      z-index: 1000;
      display: none;
      text-align: center;
      animation: fadeIn 0.4s ease forwards;
    }

    .popup button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #00ffd5;
      color: #1e1e2f;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translate(-50%, -60%); }
      to { opacity: 1; transform: translate(-50%, -50%); }
    }

    .tag {
      background-color: #00ffd5;
      color: #1e1e2f;
      padding: 6px 12px;
      border-radius: 20px;
      font-weight: bold;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-box">
      <img id="profileImage" src="default.png" alt="Profile Image" style="width:100px; border-radius:50%; margin-bottom:10px;" />
      <h1 id="name">Welcome 👋</h1>

      <!-- Profile Info Section -->
      <div style="margin-bottom: 15px;">
        <h3 style="color: #00ffd5;">🧠 Bio</h3>
        <p id="bio"></p>
      </div>

      <div style="margin-bottom: 15px;">
        <h3 style="color: #00ffd5;">💬 Motto</h3>
        <p id="motto" style="font-style: italic;"></p>
      </div>

      <div style="margin-bottom: 25px;">
        <h3 style="color: #00ffd5;">🛠️ Skills</h3>
        <div id="skillsContainer" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;"></div>
      </div>

      <button onclick="window.location.href='profile.html'" class="btn btn-alt" style="margin: 30px 0;">
        🛠️ Edit Profile
      </button>

      <h3 style="margin-top:30px;">Explore My World 🌍</h3>
      <div class="category-grid">
        <div class="category" onclick="showPopup('sports')">🏀 Sports</div>
        <div class="category" onclick="showPopup('esports')">🎮 Esports</div>
        <div class="category" onclick="showPopup('music')">🎵 Music</div>
        <div class="category" onclick="showPopup('design')">🎨 Design</div>
        <div class="category" onclick="showPopup('coding')">💻 Coding</div>
      </div>

      <button onclick="logout()" class="btn btn-alt" style="margin-top:40px;">Logout</button>
    </div>
  </div>

  <!-- Floating Popups -->
  <div id="popup" class="popup">
    <div id="popup-content"></div>
    <button onclick="closePopup()">Close</button>
  </div>

  <script>
    fetch('api/user.json') // For GitHub Pages, use a static JSON file or mock data
      .then(res => res.json())
      .then(data => {
        document.getElementById('name').textContent = `Welcome back, ${data.name || 'User'} 👋`;
        document.getElementById('bio').textContent = data.bio || '';
        document.getElementById('motto').textContent = data.motto || '';

        const skills = data.skills?.split(',').map(s => s.trim()).filter(Boolean);
        const skillsContainer = document.getElementById('skillsContainer');
        skillsContainer.innerHTML = '';
        skills?.forEach(skill => {
          const tag = document.createElement('div');
          tag.className = 'tag';
          tag.textContent = skill;
          skillsContainer.appendChild(tag);
        });

        if (data.imagePath) {
          document.getElementById('profileImage').src = data.imagePath;
        }
      });

    function showPopup(category) {
      const popup = document.getElementById('popup');
      const content = document.getElementById('popup-content');

      const messages = {
        sports: "I used to play billiards when I was younger. It taught me focus and finesse.",
        esports: "I’ve played mobile games like a beast—10 hours a day, grinding and dominating.",
        music: "Music keeps me grounded. It’s my escape, my rhythm, my reset.",
        design: "I was once a graphic designer—colors, shapes, and creativity were my tools.",
        coding: "I’m back in the game, cleaning off the rust and chasing mastery in web dev."
      };

      content.textContent = messages[category];
      popup.style.display = 'block';
    }

    function closePopup() {
      document.getElementById('popup').style.display = 'none';
    }

    function logout() {
      window.location.href = 'index.html'; // Redirect to homepage or login page
    }
  </script>
</body>
</html>
